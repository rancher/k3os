{"version": 2, "width": 189, "height": 33, "timestamp": 1572358325, "env": {"SHELL": "/bin/bash", "TERM": "xterm-256color"}, "title": "k3OS-Packer-OpenStack-Image"}
[0.193667, "o", "\u001b[1;32mopenstack output will be in this color.\u001b[0m\r\n\r\n"]
[0.545244, "o", "\u001b[1;32m==> openstack: Loading flavor: 2\u001b[0m\r\n"]
[0.644181, "o", "\u001b[0;32m    openstack: Verified flavor. ID: 2\u001b[0m\r\n"]
[0.644855, "o", "\u001b[1;32m==> openstack: Creating temporary keypair: packer_5db848b6-3703-861c-39b9-f0a1b3dcb039 ...\u001b[0m\r\n"]
[0.808219, "o", "\u001b[1;32m==> openstack: Created temporary keypair: packer_5db848b6-3703-861c-39b9-f0a1b3dcb039\u001b[0m\r\n"]
[0.808923, "o", "\u001b[1;32m==> openstack: Launching server...\u001b[0m\r\n\u001b[1;32m==> openstack: Launching server...\u001b[0m\r\n"]
[1.674936, "o", "\u001b[0;32m    openstack: Server ID: b38d1f51-65e7-468c-907b-5ab7948023a4\u001b[0m\r\n"]
[1.675227, "o", "\u001b[1;32m==> openstack: Waiting for server to become ready...\u001b[0m\r\n"]
[13.26034, "o", "\u001b[1;32m==> openstack: Creating floating IP using network 3b832c1c-f7d9-4ff1-8466-47288c6ddca8 ...\u001b[0m\r\n"]
[14.952236, "o", "\u001b[0;32m    openstack: Created floating IP: 'b36a1289-9224-4256-814e-2d2d86f6e14f' (10.1.1.221)\u001b[0m\r\n"]
[14.952842, "o", "\u001b[1;32m==> openstack: Associating floating IP 'b36a1289-9224-4256-814e-2d2d86f6e14f' (10.1.1.221) with instance port...\u001b[0m\r\n"]
[16.84132, "o", "\u001b[0;32m    openstack: Added floating IP 'b36a1289-9224-4256-814e-2d2d86f6e14f' (10.1.1.221) to instance!\u001b[0m\r\n"]
[16.841654, "o", "\u001b[1;32m==> openstack: Using ssh communicator to connect: 10.1.1.221\u001b[0m\r\n"]
[16.84181, "o", "\u001b[1;32m==> openstack: Waiting for SSH to become available...\u001b[0m\r\n"]
[153.079643, "o", "\u001b[1;32m==> openstack: Connected to SSH!\u001b[0m\r\n"]
[153.081989, "o", "\u001b[1;32m==> openstack: Uploading ./openstack.yaml => /tmp/config.yaml\u001b[0m\r\n"]
[153.24984, "o", "\ropenstack.yaml 30 B / 30 B [=====================================================================================================================================================] 100.00% 0s\r\n"]
[153.250216, "o", "\u001b[1A\ropenstack.yaml 30 B / 30 B [=====================================================================================================================================================] 100.00% 0s\r\n"]
[153.251082, "o", "\u001b[1;32m==> openstack: Uploading ../../../install.sh => /tmp/\u001b[0m\r\n"]
[153.259791, "o", "\rinstall.sh 7.85 KiB / 7.85 KiB [=================================================================================================================================================] 100.00% 0s\r\n"]
[153.260187, "o", "\u001b[1A\rinstall.sh 7.85 KiB / 7.85 KiB [=================================================================================================================================================] 100.00% 0s\r\n"]
[153.261193, "o", "\u001b[1;32m==> openstack: Provisioning with shell script: /tmp/packer-shell790080247\u001b[0m\r\n"]
[153.454897, "o", "\u001b[0;32m    openstack: Get:1 http://security.debian.org buster/updates InRelease [39.1 kB]\u001b[0m\r\n"]
[153.470479, "o", "\u001b[0;32m    openstack: Hit:2 http://deb.debian.org/debian buster InRelease\u001b[0m\r\n"]
[153.481481, "o", "\u001b[0;32m    openstack: Get:3 http://deb.debian.org/debian buster-updates InRelease [49.3 kB]\u001b[0m\r\n"]
[153.526093, "o", "\u001b[0;32m    openstack: Get:4 http://deb.debian.org/debian buster-backports InRelease [46.7 kB]\u001b[0m\r\n"]
[153.758205, "o", "\u001b[0;32m    openstack: Get:5 http://security.debian.org buster/updates/main Sources [82.5 kB]\u001b[0m\r\n"]
[153.810065, "o", "\u001b[0;32m    openstack: Get:6 http://security.debian.org buster/updates/main arm64 Packages [107 kB]\u001b[0m\r\n"]
[153.858278, "o", "\u001b[0;32m    openstack: Get:7 http://security.debian.org buster/updates/main Translation-en [65.0 kB]\u001b[0m\r\n"]
[154.070662, "o", "\u001b[0;32m    openstack: Get:8 http://deb.debian.org/debian buster-backports/main Sources [101 kB]\u001b[0m\r\n"]
[154.214839, "o", "\u001b[0;32m    openstack: Get:9 http://deb.debian.org/debian buster-backports/main arm64 Packages [123 kB]\u001b[0m\r\n"]
[154.262533, "o", "\u001b[0;32m    openstack: Get:10 http://deb.debian.org/debian buster-backports/main Translation-en [104 kB]\u001b[0m\r\n"]
[154.316906, "o", "\u001b[0;32m    openstack: Fetched 718 kB in 1s (778 kB/s)\u001b[0m\r\n"]
[155.433143, "o", "\u001b[0;32m    openstack: Reading package lists...\u001b[0m\r\n"]
[155.541625, "o", "\u001b[0;32m    openstack: Reading package lists...\u001b[0m\r\n"]
[155.742734, "o", "\u001b[0;32m    openstack: Building dependency tree...\u001b[0m\r\n"]
[155.74336, "o", "\u001b[0;32m    openstack: Reading state information...\u001b[0m\r\n"]
[156.027541, "o", "\u001b[0;32m    openstack: The following additional packages will be installed:\u001b[0m\r\n"]
[156.02821, "o", "\u001b[0;32m    openstack:   libcurl4 libldap-2.4-2 libldap-common libnghttp2-14 libparted2 librtmp1\u001b[0m\r\n"]
[156.028889, "o", "\u001b[0;32m    openstack:   libsasl2-2 libsasl2-modules libsasl2-modules-db libssh2-1\u001b[0m\r\n"]
[156.030299, "o", "\u001b[0;32m    openstack: Suggested packages:\u001b[0m\r\n"]
[156.031066, "o", "\u001b[0;32m    openstack:   libparted-dev libparted-i18n libsasl2-modules-gssapi-mit\u001b[0m\r\n"]
[156.031804, "o", "\u001b[0;32m    openstack:   | libsasl2-modules-gssapi-heimdal libsasl2-modules-ldap libsasl2-modules-otp\u001b[0m\r\n"]
[156.032346, "o", "\u001b[0;32m    openstack:   libsasl2-modules-sql parted-doc\u001b[0m\r\n"]
[156.058231, "o", "\u001b[0;32m    openstack: The following NEW packages will be installed:\u001b[0m\r\n"]
[156.059109, "o", "\u001b[0;32m    openstack:   curl dosfstools libcurl4 libldap-2.4-2 libldap-common libnghttp2-14\u001b[0m\r\n"]
[156.059782, "o", "\u001b[0;32m    openstack:   libparted2 librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db\u001b[0m\r\n"]
[156.060404, "o", "\u001b[0;32m    openstack:   libssh2-1 parted\u001b[0m\r\n"]
[156.159552, "o", "\u001b[0;32m    openstack: 0 upgraded, 13 newly installed, 0 to remove and 3 not upgraded.\u001b[0m\r\n"]
[156.160285, "o", "\u001b[0;32m    openstack: Need to get 1,983 kB of archives.\u001b[0m\r\n"]
[156.161128, "o", "\u001b[0;32m    openstack: After this operation, 3,935 kB of additional disk space will be used.\u001b[0m\r\n"]
[156.161795, "o", "\u001b[0;32m    openstack: Get:1 http://deb.debian.org/debian buster/main arm64 libsasl2-modules-db arm64 2.1.27+dfsg-1 [69.2 kB]\u001b[0m\r\n"]
[156.165628, "o", "\u001b[0;32m    openstack: Get:2 http://security.debian.org buster/updates/main arm64 libnghttp2-14 arm64 1.36.0-2+deb10u1 [81.9 kB]\u001b[0m\r\n"]
[156.20979, "o", "\u001b[0;32m    openstack: Get:3 http://deb.debian.org/debian buster/main arm64 libsasl2-2 arm64 2.1.27+dfsg-1 [105 kB]\u001b[0m\r\n"]
[156.259217, "o", "\u001b[0;32m    openstack: Get:4 http://deb.debian.org/debian buster/main arm64 libldap-common all 2.4.47+dfsg-3+deb10u1 [89.6 kB]\u001b[0m\r\n"]
[156.307715, "o", "\u001b[0;32m    openstack: Get:5 http://deb.debian.org/debian buster/main arm64 libldap-2.4-2 arm64 2.4.47+dfsg-3+deb10u1 [216 kB]\u001b[0m\r\n"]
[156.374711, "o", "\u001b[0;32m    openstack: Get:6 http://deb.debian.org/debian buster/main arm64 librtmp1 arm64 2.4+20151223.gitfa8646d.1-2 [55.7 kB]\u001b[0m\r\n"]
[156.407742, "o", "\u001b[0;32m    openstack: Get:7 http://deb.debian.org/debian buster/main arm64 libssh2-1 arm64 1.8.0-2.1 [135 kB]\u001b[0m\r\n"]
[156.459968, "o", "\u001b[0;32m    openstack: Get:8 http://deb.debian.org/debian buster/main arm64 libcurl4 arm64 7.64.0-4 [312 kB]\u001b[0m\r\n"]
[156.573751, "o", "\u001b[0;32m    openstack: Get:9 http://deb.debian.org/debian buster/main arm64 curl arm64 7.64.0-4 [260 kB]\u001b[0m\r\n"]
[156.667496, "o", "\u001b[0;32m    openstack: Get:10 http://deb.debian.org/debian buster/main arm64 dosfstools arm64 4.1-2 [92.8 kB]\u001b[0m\r\n"]
[156.71567, "o", "\u001b[0;32m    openstack: Get:11 http://deb.debian.org/debian buster/main arm64 libparted2 arm64 3.2-25 [270 kB]\u001b[0m\r\n"]
[156.816583, "o", "\u001b[0;32m    openstack: Get:12 http://deb.debian.org/debian buster/main arm64 libsasl2-modules arm64 2.1.27+dfsg-1 [101 kB]\u001b[0m\r\n"]
[156.865076, "o", "\u001b[0;32m    openstack: Get:13 http://deb.debian.org/debian buster/main arm64 parted arm64 3.2-25 [194 kB]\u001b[0m\r\n"]
[157.193934, "o", "\u001b[1;31m==> openstack: debconf: unable to initialize frontend: Dialog\u001b[0m\r\n"]
[157.194591, "o", "\u001b[1;31m==> openstack: debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)\u001b[0m\r\n"]
[157.195476, "o", "\u001b[1;31m==> openstack: debconf: falling back to frontend: Readline\u001b[0m\r\n"]
[157.196153, "o", "\u001b[1;31m==> openstack: debconf: unable to initialize frontend: Readline\u001b[0m\r\n"]
[157.197433, "o", "\u001b[1;31m==> openstack: debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/aarch64-linux-gnu/perl/5.28.1 /usr/local/share/perl/5.28.1 /usr/lib/aarch64-linux-gnu/perl5/5.28 /usr/share/perl5 /usr/lib/aarch64-linux-gnu/perl/5.28 /usr/share/perl/5.28 /usr/local/lib/site_perl /usr/lib/aarch64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7, <> line 13.)\u001b[0m\r\n"]
[157.19759, "o", "\u001b[1;31m==> openstack: debconf: falling back to frontend: Teletype\u001b[0m\r\n"]
[157.205092, "o", "\u001b[1;31m==> openstack: dpkg-preconfigure: unable to re-open stdin:\u001b[0m\r\n"]
[157.234564, "o", "\u001b[0;32m    openstack: Fetched 1,983 kB in 1s (2,350 kB/s)\u001b[0m\r\n"]
[157.263952, "o", "\u001b[0;32m    openstack: Selecting previously unselected package libsasl2-modules-db:arm64.\u001b[0m\r\n"]
[157.363821, "o", "\u001b[0;32m    openstack: (Reading database ... 29627 files and directories currently installed.)\u001b[0m\r\n"]
[157.366712, "o", "\u001b[0;32m    openstack: Preparing to unpack .../00-libsasl2-modules-db_2.1.27+dfsg-1_arm64.deb ...\u001b[0m\r\n"]
[157.377742, "o", "\u001b[0;32m    openstack: Unpacking libsasl2-modules-db:arm64 (2.1.27+dfsg-1) ...\u001b[0m\r\n"]
[157.420733, "o", "\u001b[0;32m    openstack: Selecting previously unselected package libsasl2-2:arm64.\u001b[0m\r\n"]
[157.421761, "o", "\u001b[0;32m    openstack: Preparing to unpack .../01-libsasl2-2_2.1.27+dfsg-1_arm64.deb ...\u001b[0m\r\n"]
[157.429409, "o", "\u001b[0;32m    openstack: Unpacking libsasl2-2:arm64 (2.1.27+dfsg-1) ...\u001b[0m\r\n"]
[157.476635, "o", "\u001b[0;32m    openstack: Selecting previously unselected package libldap-common.\u001b[0m\r\n"]
[157.477406, "o", "\u001b[0;32m    openstack: Preparing to unpack .../02-libldap-common_2.4.47+dfsg-3+deb10u1_all.deb ...\u001b[0m\r\n"]
[157.480324, "o", "\u001b[0;32m    openstack: Unpacking libldap-common (2.4.47+dfsg-3+deb10u1) ...\u001b[0m\r\n"]
[157.528646, "o", "\u001b[0;32m    openstack: Selecting previously unselected package libldap-2.4-2:arm64.\u001b[0m\r\n"]
[157.530718, "o", "\u001b[0;32m    openstack: Preparing to unpack .../03-libldap-2.4-2_2.4.47+dfsg-3+deb10u1_arm64.deb ...\u001b[0m\r\n"]
[157.533858, "o", "\u001b[0;32m    openstack: Unpacking libldap-2.4-2:arm64 (2.4.47+dfsg-3+deb10u1) ...\u001b[0m\r\n"]
[157.596665, "o", "\u001b[0;32m    openstack: Selecting previously unselected package libnghttp2-14:arm64.\u001b[0m\r\n"]
[157.597354, "o", "\u001b[0;32m    openstack: Preparing to unpack .../04-libnghttp2-14_1.36.0-2+deb10u1_arm64.deb ...\u001b[0m\r\n"]
[157.60018, "o", "\u001b[0;32m    openstack: Unpacking libnghttp2-14:arm64 (1.36.0-2+deb10u1) ...\u001b[0m\r\n"]
[157.64868, "o", "\u001b[0;32m    openstack: Selecting previously unselected package librtmp1:arm64.\u001b[0m\r\n"]
[157.650043, "o", "\u001b[0;32m    openstack: Preparing to unpack .../05-librtmp1_2.4+20151223.gitfa8646d.1-2_arm64.deb ...\u001b[0m\r\n"]
[157.653527, "o", "\u001b[0;32m    openstack: Unpacking librtmp1:arm64 (2.4+20151223.gitfa8646d.1-2) ...\u001b[0m\r\n"]
[157.700695, "o", "\u001b[0;32m    openstack: Selecting previously unselected package libssh2-1:arm64.\u001b[0m\r\n"]
[157.702669, "o", "\u001b[0;32m    openstack: Preparing to unpack .../06-libssh2-1_1.8.0-2.1_arm64.deb ...\u001b[0m\r\n"]
[157.705764, "o", "\u001b[0;32m    openstack: Unpacking libssh2-1:arm64 (1.8.0-2.1) ...\u001b[0m\r\n"]
[157.760199, "o", "\u001b[0;32m    openstack: Selecting previously unselected package libcurl4:arm64.\u001b[0m\r\n"]
[157.760925, "o", "\u001b[0;32m    openstack: Preparing to unpack .../07-libcurl4_7.64.0-4_arm64.deb ...\u001b[0m\r\n"]
[157.763195, "o", "\u001b[0;32m    openstack: Unpacking libcurl4:arm64 (7.64.0-4) ...\u001b[0m\r\n"]
[157.832647, "o", "\u001b[0;32m    openstack: Selecting previously unselected package curl.\u001b[0m\r\n"]
[157.835358, "o", "\u001b[0;32m    openstack: Preparing to unpack .../08-curl_7.64.0-4_arm64.deb ...\u001b[0m\r\n"]
[157.838668, "o", "\u001b[0;32m    openstack: Unpacking curl (7.64.0-4) ...\u001b[0m\r\n"]
[157.892681, "o", "\u001b[0;32m    openstack: Selecting previously unselected package dosfstools.\u001b[0m\r\n"]
[157.8956, "o", "\u001b[0;32m    openstack: Preparing to unpack .../09-dosfstools_4.1-2_arm64.deb ...\u001b[0m\r\n"]
[157.898895, "o", "\u001b[0;32m    openstack: Unpacking dosfstools (4.1-2) ...\u001b[0m\r\n"]
[157.952742, "o", "\u001b[0;32m    openstack: Selecting previously unselected package libparted2:arm64.\u001b[0m\r\n"]
[157.955402, "o", "\u001b[0;32m    openstack: Preparing to unpack .../10-libparted2_3.2-25_arm64.deb ...\u001b[0m\r\n"]
[157.958841, "o", "\u001b[0;32m    openstack: Unpacking libparted2:arm64 (3.2-25) ...\u001b[0m\r\n"]
[158.012619, "o", "\u001b[0;32m    openstack: Selecting previously unselected package libsasl2-modules:arm64.\u001b[0m\r\n"]
[158.014331, "o", "\u001b[0;32m    openstack: Preparing to unpack .../11-libsasl2-modules_2.1.27+dfsg-1_arm64.deb ...\u001b[0m\r\n"]
[158.017514, "o", "\u001b[0;32m    openstack: Unpacking libsasl2-modules:arm64 (2.1.27+dfsg-1) ...\u001b[0m\r\n"]
[158.068156, "o", "\u001b[0;32m    openstack: Selecting previously unselected package parted.\u001b[0m\r\n"]
[158.06889, "o", "\u001b[0;32m    openstack: Preparing to unpack .../12-parted_3.2-25_arm64.deb ...\u001b[0m\r\n"]
[158.07116, "o", "\u001b[0;32m    openstack: Unpacking parted (3.2-25) ...\u001b[0m\r\n"]
[158.133402, "o", "\u001b[0;32m    openstack: Setting up libsasl2-modules:arm64 (2.1.27+dfsg-1) ...\u001b[0m\r\n"]
[158.149446, "o", "\u001b[0;32m    openstack: Setting up dosfstools (4.1-2) ...\u001b[0m\r\n"]
[158.16118, "o", "\u001b[0;32m    openstack: Setting up libnghttp2-14:arm64 (1.36.0-2+deb10u1) ...\u001b[0m\r\n"]
[158.170853, "o", "\u001b[0;32m    openstack: Setting up libldap-common (2.4.47+dfsg-3+deb10u1) ...\u001b[0m\r\n"]
[158.185521, "o", "\u001b[0;32m    openstack: Setting up libsasl2-modules-db:arm64 (2.1.27+dfsg-1) ...\u001b[0m\r\n"]
[158.193451, "o", "\u001b[0;32m    openstack: Setting up librtmp1:arm64 (2.4+20151223.gitfa8646d.1-2) ...\u001b[0m\r\n"]
[158.201936, "o", "\u001b[0;32m    openstack: Setting up libsasl2-2:arm64 (2.1.27+dfsg-1) ...\u001b[0m\r\n"]
[158.210369, "o", "\u001b[0;32m    openstack: Setting up libparted2:arm64 (3.2-25) ...\u001b[0m\r\n"]
[158.219425, "o", "\u001b[0;32m    openstack: Setting up libssh2-1:arm64 (1.8.0-2.1) ...\u001b[0m\r\n"]
[158.229865, "o", "\u001b[0;32m    openstack: Setting up libldap-2.4-2:arm64 (2.4.47+dfsg-3+deb10u1) ...\u001b[0m\r\n"]
[158.242285, "o", "\u001b[0;32m    openstack: Setting up parted (3.2-25) ...\u001b[0m\r\n"]
[158.251055, "o", "\u001b[0;32m    openstack: Setting up libcurl4:arm64 (7.64.0-4) ...\u001b[0m\r\n"]
[158.263256, "o", "\u001b[0;32m    openstack: Setting up curl (7.64.0-4) ...\u001b[0m\r\n"]
[158.273681, "o", "\u001b[0;32m    openstack: Processing triggers for libc-bin (2.28-10) ...\u001b[0m\r\n"]
[158.561523, "o", "\u001b[1;31m==> openstack: + set -e\u001b[0m\r\n"]
[158.562177, "o", "\u001b[1;31m==> openstack: + PROG=/tmp/install.sh\u001b[0m\r\n"]
[158.563443, "o", "\u001b[1;31m==> openstack: + PROGS='dd curl mkfs.ext4 mkfs.vfat fatlabel parted partprobe grub-install'\u001b[0m\r\n"]
[158.564058, "o", "\u001b[1;31m==> openstack: + DISTRO=/run/k3os/iso\u001b[0m\r\n"]
[158.564644, "o", "\u001b[1;31m==> openstack: + '[' '' = true ']'\u001b[0m\r\n"]
[158.565306, "o", "\u001b[1;31m==> openstack: + '[' 9 -gt 0 ']'\u001b[0m\r\n"]
[158.565948, "o", "\u001b[1;31m==> openstack: + case $1 in\u001b[0m\r\n"]
[158.566561, "o", "\u001b[1;31m==> openstack: + K3OS_INSTALL_TAKE_OVER=true\u001b[0m\r\n"]
[158.567103, "o", "\u001b[1;31m==> openstack: + shift 1\u001b[0m\r\n"]
[158.567718, "o", "\u001b[1;31m==> openstack: + '[' 8 -gt 0 ']'\u001b[0m\r\n"]
[158.568331, "o", "\u001b[1;31m==> openstack: + case $1 in\u001b[0m\r\n"]
[158.568913, "o", "\u001b[1;31m==> openstack: + set -x\u001b[0m\r\n"]
[158.569522, "o", "\u001b[1;31m==> openstack: + K3OS_INSTALL_DEBUG=true\u001b[0m\r\n"]
[158.570097, "o", "\u001b[1;31m==> openstack: + shift 1\u001b[0m\r\n"]
[158.570683, "o", "\u001b[1;31m==> openstack: + '[' 7 -gt 0 ']'\u001b[0m\r\n"]
[158.571255, "o", "\u001b[1;31m==> openstack: + case $1 in\u001b[0m\r\n"]
[158.571833, "o", "\u001b[1;31m==> openstack: + shift 1\u001b[0m\r\n"]
[158.572536, "o", "\u001b[1;31m==> openstack: + K3OS_INSTALL_TTY=ttyS0\u001b[0m\r\n"]
[158.573128, "o", "\u001b[1;31m==> openstack: + shift 1\u001b[0m\r\n"]
[158.573738, "o", "\u001b[1;31m==> openstack: + '[' 5 -gt 0 ']'\u001b[0m\r\n"]
[158.57435, "o", "\u001b[1;31m==> openstack: + case $1 in\u001b[0m\r\n"]
[158.574916, "o", "\u001b[1;31m==> openstack: + shift 1\u001b[0m\r\n"]
[158.575606, "o", "\u001b[1;31m==> openstack: + K3OS_INSTALL_CONFIG_URL=/tmp/config.yaml\u001b[0m\r\n"]
[158.576084, "o", "\u001b[1;31m==> openstack: + shift 1\u001b[0m\r\n"]
[158.576672, "o", "\u001b[1;31m==> openstack: + '[' 3 -gt 0 ']'\u001b[0m\r\n"]
[158.577262, "o", "\u001b[1;31m==> openstack: + case $1 in\u001b[0m\r\n"]
[158.577945, "o", "\u001b[1;31m==> openstack: + K3OS_INSTALL_NO_FORMAT=true\u001b[0m\r\n"]
[158.578477, "o", "\u001b[1;31m==> openstack: + shift 1\u001b[0m\r\n"]
[158.579082, "o", "\u001b[1;31m==> openstack: + '[' 2 -gt 0 ']'\u001b[0m\r\n"]
[158.579701, "o", "\u001b[1;31m==> openstack: + case $1 in\u001b[0m\r\n"]
[158.580306, "o", "\u001b[1;31m==> openstack: + '[' 2 -gt 2 ']'\u001b[0m\r\n"]
[158.580882, "o", "\u001b[1;31m==> openstack: + INTERACTIVE=true\u001b[0m\r\n"]
[158.581495, "o", "\u001b[1;31m==> openstack: + K3OS_INSTALL_DEVICE=/dev/vda2\u001b[0m\r\n"]
[158.582183, "o", "\u001b[1;31m==> openstack: + K3OS_INSTALL_ISO_URL=https://github.com/rancher/k3os/releases/download/v0.5.0/k3os-arm64.iso\u001b[0m\r\n"]
[158.582588, "o", "\u001b[1;31m==> openstack: + break\u001b[0m\r\n"]
[158.583218, "o", "\u001b[1;31m==> openstack: + '[' -e /etc/environment ']'\u001b[0m\r\n"]
[158.583776, "o", "\u001b[1;31m==> openstack: + source /etc/environment\u001b[0m\r\n"]
[158.584331, "o", "\u001b[1;31m==> openstack: + '[' -e /etc/os-release ']'\u001b[0m\r\n"]
[158.584938, "o", "\u001b[1;31m==> openstack: + source /etc/os-release\u001b[0m\r\n"]
[158.585558, "o", "\u001b[1;31m==> openstack: ++ PRETTY_NAME='Debian GNU/Linux 10 (buster)'\u001b[0m\r\n"]
[158.5861, "o", "\u001b[1;31m==> openstack: ++ NAME='Debian GNU/Linux'\u001b[0m\r\n"]
[158.586654, "o", "\u001b[1;31m==> openstack: ++ VERSION_ID=10\u001b[0m\r\n"]
[158.58722, "o", "\u001b[1;31m==> openstack: ++ VERSION='10 (buster)'\u001b[0m\r\n"]
[158.587823, "o", "\u001b[1;31m==> openstack: ++ VERSION_CODENAME=buster\u001b[0m\r\n"]
[158.588417, "o", "\u001b[1;31m==> openstack: ++ ID=debian\u001b[0m\r\n"]
[158.589004, "o", "\u001b[1;31m==> openstack: ++ HOME_URL=https://www.debian.org/\u001b[0m\r\n"]
[158.589555, "o", "\u001b[1;31m==> openstack: ++ SUPPORT_URL=https://www.debian.org/support\u001b[0m\r\n"]
[158.590456, "o", "\u001b[1;31m==> openstack: ++ BUG_REPORT_URL=https://bugs.debian.org/\u001b[0m\r\n"]
[158.591132, "o", "\u001b[1;31m==> openstack: + '[' -z https://github.com/rancher/k3os/releases/download/v0.5.0/k3os-arm64.iso ']'\u001b[0m\r\n"]
[158.591319, "o", "\u001b[1;31m==> openstack: + '[' -z /dev/vda2 ']'\u001b[0m\r\n"]
[158.591919, "o", "\u001b[1;31m==> openstack: + validate_progs\u001b[0m\r\n"]
[158.592496, "o", "\u001b[1;31m==> openstack: + for i in $PROGS\u001b[0m\r\n"]
[158.593114, "o", "\u001b[1;31m==> openstack: ++ which dd\u001b[0m\r\n"]
[158.593728, "o", "\u001b[1;31m==> openstack: + '[' '!' -x /usr/bin/dd ']'\u001b[0m\r\n"]
[158.594279, "o", "\u001b[1;31m==> openstack: + for i in $PROGS\u001b[0m\r\n"]
[158.594962, "o", "\u001b[1;31m==> openstack: ++ which curl\u001b[0m\r\n"]
[158.595564, "o", "\u001b[1;31m==> openstack: + '[' '!' -x /usr/bin/curl ']'\u001b[0m\r\n"]
[158.596073, "o", "\u001b[1;31m==> openstack: + for i in $PROGS\u001b[0m\r\n"]
[158.596691, "o", "\u001b[1;31m==> openstack: ++ which mkfs.ext4\u001b[0m\r\n"]
[158.597336, "o", "\u001b[1;31m==> openstack: + '[' '!' -x /usr/sbin/mkfs.ext4 ']'\u001b[0m\r\n"]
[158.597865, "o", "\u001b[1;31m==> openstack: + for i in $PROGS\u001b[0m\r\n"]
[158.598439, "o", "\u001b[1;31m==> openstack: ++ which mkfs.vfat\u001b[0m\r\n"]
[158.59904, "o", "\u001b[1;31m==> openstack: + '[' '!' -x /usr/sbin/mkfs.vfat ']'\u001b[0m\r\n"]
[158.59959, "o", "\u001b[1;31m==> openstack: + for i in $PROGS\u001b[0m\r\n"]
[158.600203, "o", "\u001b[1;31m==> openstack: ++ which fatlabel\u001b[0m\r\n"]
[158.600807, "o", "\u001b[1;31m==> openstack: + '[' '!' -x /usr/sbin/fatlabel ']'\u001b[0m\r\n"]
[158.601419, "o", "\u001b[1;31m==> openstack: + for i in $PROGS\u001b[0m\r\n"]
[158.601944, "o", "\u001b[1;31m==> openstack: ++ which parted\u001b[0m\r\n"]
[158.602512, "o", "\u001b[1;31m==> openstack: + '[' '!' -x /usr/sbin/parted ']'\u001b[0m\r\n"]
[158.603102, "o", "\u001b[1;31m==> openstack: + for i in $PROGS\u001b[0m\r\n"]
[158.603677, "o", "\u001b[1;31m==> openstack: ++ which partprobe\u001b[0m\r\n"]
[158.604285, "o", "\u001b[1;31m==> openstack: + '[' '!' -x /usr/sbin/partprobe ']'\u001b[0m\r\n"]
[158.604867, "o", "\u001b[1;31m==> openstack: + for i in $PROGS\u001b[0m\r\n"]
[158.605458, "o", "\u001b[1;31m==> openstack: ++ which grub-install\u001b[0m\r\n"]
[158.606018, "o", "\u001b[1;31m==> openstack: + '[' '!' -x /usr/sbin/grub-install ']'\u001b[0m\r\n"]
[158.606524, "o", "\u001b[1;31m==> openstack: + '[' -n '' ']'\u001b[0m\r\n"]
[158.607039, "o", "\u001b[1;31m==> openstack: + validate_device\u001b[0m\r\n"]
[158.607588, "o", "\u001b[1;31m==> openstack: + DEVICE=/dev/vda2\u001b[0m\r\n"]
[158.608139, "o", "\u001b[1;31m==> openstack: + '[' '!' -b /dev/vda2 ']'\u001b[0m\r\n"]
[158.608678, "o", "\u001b[1;31m==> openstack: + trap cleanup exit\u001b[0m\r\n"]
[158.609279, "o", "\u001b[1;31m==> openstack: + get_iso\u001b[0m\r\n"]
[158.609847, "o", "\u001b[1;31m==> openstack: ++ blkid -L K3OS\u001b[0m\r\n"]
[158.610389, "o", "\u001b[1;31m==> openstack: ++ true\u001b[0m"]
[158.610514, "o", "\r\n"]
[158.61098, "o", "\u001b[1;31m==> openstack: + ISO_DEVICE=\u001b[0m\r\n"]
[158.611568, "o", "\u001b[1;31m==> openstack: + '[' -z '' ']'\u001b[0m\r\n"]
[158.612103, "o", "\u001b[1;31m==> openstack: ++ awk '{print $1}'\u001b[0m\r\n"]
[158.612651, "o", "\u001b[1;31m==> openstack: ++ grep -w disk\u001b[0m\r\n"]
[158.613309, "o", "\u001b[1;31m==> openstack: ++ lsblk -o NAME,TYPE -n\u001b[0m\r\n"]
[158.613942, "o", "\u001b[1;31m==> openstack: + for i in $(lsblk -o NAME,TYPE -n | grep -w disk | awk '{print $1}')\u001b[0m\r\n"]
[158.61443, "o", "\u001b[1;31m==> openstack: + mkdir -p /run/k3os/iso\u001b[0m\r\n"]
[158.615029, "o", "\u001b[1;31m==> openstack: + mount -t iso9660 -o ro /dev/vda /run/k3os/iso\u001b[0m\r\n"]
[158.615662, "o", "\u001b[1;31m==> openstack: mount: /run/k3os/iso: /dev/vda already mounted or mount point busy.\u001b[0m\r\n"]
[158.61615, "o", "\u001b[1;31m==> openstack: + '[' -z '' ']'\u001b[0m\r\n"]
[158.616842, "o", "\u001b[1;31m==> openstack: + '[' -n https://github.com/rancher/k3os/releases/download/v0.5.0/k3os-arm64.iso ']'\u001b[0m\r\n"]
[158.617282, "o", "\u001b[1;31m==> openstack: ++ mktemp k3os.XXXXXXXX.iso\u001b[0m\r\n"]
[158.618075, "o", "\u001b[1;31m==> openstack: + TEMP_FILE=k3os.00euMhlo.iso\u001b[0m\r\n"]
[158.618842, "o", "\u001b[1;31m==> openstack: + get_url https://github.com/rancher/k3os/releases/download/v0.5.0/k3os-arm64.iso k3os.00euMhlo.iso\u001b[0m\r\n"]
[158.6194, "o", "\u001b[1;31m==> openstack: + FROM=https://github.com/rancher/k3os/releases/download/v0.5.0/k3os-arm64.iso\u001b[0m\r\n"]
[158.619889, "o", "\u001b[1;31m==> openstack: + TO=k3os.00euMhlo.iso\u001b[0m\r\n"]
[158.620445, "o", "\u001b[1;31m==> openstack: + case $FROM in\u001b[0m\r\n"]
[158.621198, "o", "\u001b[1;31m==> openstack: + curl -o k3os.00euMhlo.iso -fL https://github.com/rancher/k3os/releases/download/v0.5.0/k3os-arm64.iso\u001b[0m\r\n"]
[158.621761, "o", "\u001b[1;31m==> openstack:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\u001b[0m\r\n"]
[158.622323, "o", "\u001b[1;31m==> openstack:                                  Dload  Upload   Total   Spent    Left  Speed\u001b[0m\r\n"]
[158.784634, "o", "\u001b[1;31m==> openstack: 100   605    0   605    0     0   3689      0 --:--:-- --:--:-- --:--:--  3689\u001b[0m\r\n"]
[268.339655, "o", "\u001b[1;31m==> openstack: 100  401M  100  401M    0     0  3747k      0  0:01:49  0:01:49 --:--:-- 3740k\u001b[0m\r\n"]
[268.563415, "o", "\u001b[1;31m==> openstack: ++ losetup --show -f k3os.00euMhlo.iso\u001b[0m\r\n"]
[268.628114, "o", "\u001b[1;31m==> openstack: + ISO_DEVICE=/dev/loop0\u001b[0m\r\n"]
[268.628977, "o", "\u001b[1;31m==> openstack: + rm -f k3os.00euMhlo.iso\u001b[0m\r\n"]
[268.635565, "o", "\u001b[1;31m==> openstack: + '[' -z /dev/loop0 ']'\u001b[0m\r\n"]
[268.636202, "o", "\u001b[1;31m==> openstack: + setup_style\u001b[0m\r\n"]
[268.636917, "o", "\u001b[1;31m==> openstack: + '[' '' = true ']'\u001b[0m\r\n"]
[268.637699, "o", "\u001b[1;31m==> openstack: + '[' -e /sys/firmware/efi ']'\u001b[0m\r\n"]
[268.638314, "o", "\u001b[1;31m==> openstack: + PARTTABLE=gpt\u001b[0m\r\n"]
[268.63897, "o", "\u001b[1;31m==> openstack: + BOOTFLAG=esp\u001b[0m\r\n"]
[268.639718, "o", "\u001b[1;31m==> openstack: + '[' '!' -e /sys/firmware/efi ']'\u001b[0m\r\n"]
[268.640324, "o", "\u001b[1;31m==> openstack: + do_format\u001b[0m\r\n"]
[268.641032, "o", "\u001b[1;31m==> openstack: + '[' true = true ']'\u001b[0m\r\n"]
[268.641697, "o", "\u001b[1;31m==> openstack: ++ blkid -L K3OS_STATE\u001b[0m\r\n"]
[268.665916, "o", "\u001b[1;31m==> openstack: ++ true\u001b[0m\r\n"]
[268.666561, "o", "\u001b[1;31m==> openstack: + STATE=\u001b[0m\r\n"]
[268.667237, "o", "\u001b[1;31m==> openstack: + '[' -z '' ']'\u001b[0m\r\n"]
[268.66785, "o", "\u001b[1;31m==> openstack: + '[' -n /dev/vda2 ']'\u001b[0m\r\n"]
[268.668558, "o", "\u001b[1;31m==> openstack: + tune2fs -L K3OS_STATE /dev/vda2\u001b[0m\r\n"]
[268.684064, "o", "\u001b[0;32m    openstack: tune2fs 1.44.5 (15-Dec-2018)\u001b[0m\r\n"]
[268.690411, "o", "\u001b[1;31m==> openstack: ++ blkid -L K3OS_STATE\u001b[0m\r\n"]
[268.692214, "o", "\u001b[1;31m==> openstack: + STATE=/dev/vda2\u001b[0m\r\n"]
[268.692929, "o", "\u001b[1;31m==> openstack: + return 0\u001b[0m\r\n"]
[268.693697, "o", "\u001b[1;31m==> openstack: + do_mount\u001b[0m\r\n"]
[268.694425, "o", "\u001b[1;31m==> openstack: + TARGET=/run/k3os/target\u001b[0m\r\n"]
[268.69511, "o", "\u001b[1;31m==> openstack: + mkdir -p /run/k3os/target\u001b[0m\r\n"]
[268.695742, "o", "\u001b[1;31m==> openstack: + mount /dev/vda2 /run/k3os/target\u001b[0m\r\n"]
[268.703745, "o", "\u001b[1;31m==> openstack: + mkdir -p /run/k3os/target/boot\u001b[0m\r\n"]
[268.706639, "o", "\u001b[1;31m==> openstack: + '[' -n '' ']'\u001b[0m\r\n"]
[268.707214, "o", "\u001b[1;31m==> openstack: + mkdir -p /run/k3os/iso\u001b[0m\r\n"]
[268.708473, "o", "\u001b[1;31m==> openstack: + mount -t iso9660 -o ro /dev/loop0 /run/k3os/iso\u001b[0m\r\n"]
[268.717661, "o", "\u001b[1;31m==> openstack: + do_copy\u001b[0m\r\n"]
[268.719476, "o", "\u001b[1;31m==> openstack: + tar xvf - -C /run/k3os/target\u001b[0m\r\n"]
[268.720217, "o", "\u001b[1;31m==> openstack: + tar cf - -C /run/k3os/iso k3os\u001b[0m\r\n"]
[268.725878, "o", "\u001b[0;32m    openstack: k3os/\u001b[0m\r\n"]
[268.726467, "o", "\u001b[0;32m    openstack: k3os/system/\u001b[0m\r\n"]
[268.727095, "o", "\u001b[0;32m    openstack: k3os/system/config.yaml\u001b[0m\r\n"]
[268.727664, "o", "\u001b[0;32m    openstack: k3os/system/k3os/\u001b[0m\r\n"]
[268.72827, "o", "\u001b[0;32m    openstack: k3os/system/k3os/current\u001b[0m\r\n"]
[268.728897, "o", "\u001b[0;32m    openstack: k3os/system/k3os/v0.5.0/\u001b[0m\r\n"]
[268.7295, "o", "\u001b[0;32m    openstack: k3os/system/k3os/v0.5.0/k3os\u001b[0m\r\n"]
[268.927368, "o", "\u001b[0;32m    openstack: k3os/system/k3s/\u001b[0m\r\n"]
[268.928085, "o", "\u001b[0;32m    openstack: k3os/system/k3s/current\u001b[0m\r\n"]
[268.928844, "o", "\u001b[0;32m    openstack: k3os/system/k3s/v0.9.1/\u001b[0m\r\n"]
[268.929492, "o", "\u001b[0;32m    openstack: k3os/system/k3s/v0.9.1/k3s\u001b[0m\r\n"]
[269.105515, "o", "\u001b[0;32m    openstack: k3os/system/kernel/\u001b[0m\r\n"]
[269.106166, "o", "\u001b[0;32m    openstack: k3os/system/kernel/4.15.0-66-generic/\u001b[0m\r\n"]
[269.106837, "o", "\u001b[0;32m    openstack: k3os/system/kernel/4.15.0-66-generic/initrd\u001b[0m\r\n"]
[269.455882, "o", "\u001b[0;32m    openstack: k3os/system/kernel/4.15.0-66-generic/kernel.squashfs\u001b[0m\r\n"]
[270.613868, "o", "\u001b[0;32m    openstack: k3os/system/kernel/current\u001b[0m\r\n"]
[270.614645, "o", "\u001b[1;31m==> openstack: + '[' -n '' ']'\u001b[0m\r\n"]
[270.615334, "o", "\u001b[1;31m==> openstack: + '[' -n /tmp/config.yaml ']'\u001b[0m\r\n"]
[270.616017, "o", "\u001b[1;31m==> openstack: + get_url /tmp/config.yaml /run/k3os/target/k3os/system/config.yaml\u001b[0m\r\n"]
[270.616651, "o", "\u001b[1;31m==> openstack: + FROM=/tmp/config.yaml\u001b[0m\r\n"]
[270.61737, "o", "\u001b[1;31m==> openstack: + TO=/run/k3os/target/k3os/system/config.yaml\u001b[0m\r\n"]
[270.61801, "o", "\u001b[1;31m==> openstack: + case $FROM in\u001b[0m\r\n"]
[270.618703, "o", "\u001b[1;31m==> openstack: + cp -f /tmp/config.yaml /run/k3os/target/k3os/system/config.yaml\u001b[0m\r\n"]
[270.619319, "o", "\u001b[1;31m==> openstack: + chmod 600 /run/k3os/target/k3os/system/config.yaml\u001b[0m\r\n"]
[270.61995, "o", "\u001b[1;31m==> openstack: + '[' true = true ']'\u001b[0m\r\n"]
[270.620634, "o", "\u001b[1;31m==> openstack: + touch /run/k3os/target/k3os/system/takeover\u001b[0m\r\n"]
[270.621286, "o", "\u001b[1;31m==> openstack: + install_grub\u001b[0m\r\n"]
[270.621889, "o", "\u001b[1;31m==> openstack: + '[' true ']'\u001b[0m\r\n"]
[270.622541, "o", "\u001b[1;31m==> openstack: + GRUB_DEBUG=k3os.debug\u001b[0m\r\n"]
[270.623184, "o", "\u001b[1;31m==> openstack: + mkdir -p /run/k3os/target/boot/grub\u001b[0m\r\n"]
[270.623712, "o", "\u001b[1;31m==> openstack: + cat\u001b[0m\r\n"]
[270.628008, "o", "\u001b[1;31m==> openstack: + '[' -z ttyS0 ']'\u001b[0m\r\n"]
[270.628572, "o", "\u001b[1;31m==> openstack: + TTY=ttyS0\u001b[0m\r\n"]
[270.629262, "o", "\u001b[1;31m==> openstack: + '[' -e /dev/ttyS0 ']'\u001b[0m\r\n"]
[270.629893, "o", "\u001b[1;31m==> openstack: + '[' ttyS0 '!=' tty1 ']'\u001b[0m\r\n"]
[270.630467, "o", "\u001b[1;31m==> openstack: + '[' -n ttyS0 ']'\u001b[0m\r\n"]
[270.631216, "o", "\u001b[1;31m==> openstack: + sed -i 's!console=tty1!console=tty1 console=ttyS0!g' /run/k3os/target/boot/grub/grub.cfg\u001b[0m\r\n"]
[270.674479, "o", "\u001b[1;31m==> openstack: + '[' true = true ']'\u001b[0m\r\n"]
[270.675089, "o", "\u001b[1;31m==> openstack: + return 0\u001b[0m\r\n"]
[270.675743, "o", "\u001b[1;31m==> openstack: + create_opt\u001b[0m\r\n"]
[270.676363, "o", "\u001b[1;31m==> openstack: + mkdir -p /run/k3os/target/k3os/data/opt\u001b[0m\r\n"]
[270.676937, "o", "\u001b[1;31m==> openstack: + '[' -n true ']'\u001b[0m\r\n"]
[270.677534, "o", "\u001b[1;31m==> openstack: + exit 0\u001b[0m\r\n"]
[270.67813, "o", "\u001b[1;31m==> openstack: + cleanup\u001b[0m\r\n"]
[270.67875, "o", "\u001b[1;31m==> openstack: + EXIT=0\u001b[0m\r\n"]
[270.679338, "o", "\u001b[1;31m==> openstack: + cleanup2\u001b[0m\r\n"]
[270.862251, "o", "\u001b[1;31m==> openstack: + return 0\u001b[0m\r\n"]
[271.269608, "o", "\u001b[1;32m==> openstack: Provisioning with shell script: /tmp/packer-shell323946244\u001b[0m\r\n"]
[271.290344, "o", "\u001b[1;31m==> openstack: + sudo systemd-run --on-active=3 --timer-property=AccuracySec=100ms sudo systemctl reboot --force --force\u001b[0m\r\n"]
[271.312897, "o", "\u001b[1;31m==> openstack: Running timer as unit: run-re4d3943dbcef42918b48cb60f8f91290.timer\u001b[0m\r\n"]
[271.314544, "o", "\u001b[1;31m==> openstack: Will run service as unit: run-re4d3943dbcef42918b48cb60f8f91290.service\u001b[0m\r\n"]
[271.315045, "o", "\u001b[1;31m==> openstack: + sync\u001b[0m\r\n"]
[271.320617, "o", "\u001b[1;31m==> openstack: + echo Rebooting\u001b[0m\r\n"]
[271.321299, "o", "\u001b[0;32m    openstack: Rebooting\u001b[0m\r\n"]
[271.333913, "o", "\u001b[1;32m==> openstack: Stopping server: b38d1f51-65e7-468c-907b-5ab7948023a4 ...\u001b[0m\r\n"]
[271.483258, "o", "\u001b[0;32m    openstack: Waiting for server to stop: b38d1f51-65e7-468c-907b-5ab7948023a4 ...\u001b[0m\r\n"]
[274.126234, "o", "\u001b[1;32m==> openstack: Creating the image: k3OS-v0.5.0-arm64\u001b[0m\r\n"]
[274.48645, "o", "\u001b[0;32m    openstack: Image: 94b2c2f5-d487-4b09-89fb-c8514c6fd9bd\u001b[0m\r\n"]
[274.487209, "o", "\u001b[1;32m==> openstack: Waiting for image k3OS-v0.5.0-arm64 (image id: 94b2c2f5-d487-4b09-89fb-c8514c6fd9bd) to become ready...\u001b[0m\r\n"]
[316.794746, "o", "\u001b[1;32m==> openstack: Deleted temporary floating IP 'b36a1289-9224-4256-814e-2d2d86f6e14f' (10.1.1.221)\u001b[0m\r\n"]
[316.795061, "o", "\u001b[1;32m==> openstack: Terminating the source server: b38d1f51-65e7-468c-907b-5ab7948023a4 ...\u001b[0m\r\n"]
[319.428843, "o", "\u001b[1;32m==> openstack: Deleting temporary keypair: packer_5db848b6-3703-861c-39b9-f0a1b3dcb039 ...\u001b[0m\r\n"]
[319.449431, "o", "\u001b[1;32mBuild 'openstack' finished.\u001b[0m\r\n\r\n"]
[319.449668, "o", "==> Builds finished. The artifacts of successful builds are:\r\n"]
[319.450773, "o", "--> openstack: An image was created: 94b2c2f5-d487-4b09-89fb-c8514c6fd9bd\r\n"]
